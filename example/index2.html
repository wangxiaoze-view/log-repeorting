<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="../packages/core/dist/index.umd.js"></script>
  <script src="../packages/logger/dist/index.umd.js"></script>
</head>

<body>

  <button id="">123123</button>

  <button id="btn1">点击按钮报错</button>

  <script>
    logReportingCore.init({
      dsn: 'http://localhost:8888/postLog'
    })



    function testPromise() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          reject(new Error('promise报错'))
        }, 1000)
      })
    }

    // console.log(LogReporting, 123)

    const obj = null
    document.querySelector('#btn1').addEventListener('click', async function () {
      // console.error("12312312", { a: 1 }, 123123)
      // console.error("consoleErr1", "consoleErr1.1", "consoleErr1.2", { a: 1 });
      // isWatchError
      // testPromise()

      // const xhr = new XMLHttpRequest();
      // xhr.withCredentials = true;
      // xhr.timeout = 3000;
      // xhr.open("get", '/v1/api/getUserInfo?p=1&t=2', true);
      // xhr.setRequestHeader("content-type", "application/json;charset=utf-8");
      // xhr.setRequestHeader("Accept", "application/json");
      // xhr.send();


      // const xhr = new XMLHttpRequest();
      // xhr.withCredentials = true;
      // xhr.timeout = 3000;
      // xhr.open("post", '/v1/ap1/postArticle', true);
      // xhr.setRequestHeader("content-type", "application/json;charset=utf-8");
      // xhr.setRequestHeader("Accept", "application/json");
      // xhr.send({ a: 1, b: 2 });


      fetch('/v1/api/xxxxxxxx', {
        body: "aa"
      })

      // const result = await fetch('http://localhost:8888/getLogData')
      // const data = await result.json()
    })

  </script>

  <!-- <script type="module">
    import { init } from '../packages/core/dist/index.mjs'
    console.log(init, 123)
  </script> -->

</body>

</html>